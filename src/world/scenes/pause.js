import Scene from"./Scene.js";import{ASSET_PATHS}from"../../utils/Const.js";import Vector from"../../utils/Vector.js";export class PauseMenu extends Scene{constructor(s){super(s),this.name="pause",this.ctx=s.ctx,this.x=s.ctx.canvas.width/2-360,this.y=s.ctx.canvas.height/2-320,this.img=s.getAsset(ASSET_PATHS.Pause),this.buttonTop=610,this.buttonBot=660,this.resumebounds={l:710,r:860},this.exitbounds={l:863,r:1060},this.instructionbounds={l:1063,r:1220},this.musicdown=new Vector(780,440),this.musicup=new Vector(1150,440),this.sfxdown=new Vector(780,525),this.sfxup=new Vector(1150,525),this.maxDist=25}update(){if(this.game.inputManager.isLeftClick()){const s=this.game.inputManager.lastLeftClickPosition;let t=!1;if(s.y>this.buttonTop&&s.y<this.buttonBot&&(s.x>this.resumebounds.l&&s.x<this.resumebounds.r?(t=!0,this.game.sceneManager.isPaused=false):s.x>this.exitbounds.l&&s.x<this.exitbounds.r?(t=!0,this.game.sceneManager.quitGame()):s.x>this.instructionbounds.l&&s.x<this.instructionbounds.r&&(t=!0,console.log("pressed instructions"))),!t){let i=s.distance(this.musicup);i<this.maxDist&&!t?(t=!0,this.game.soundManager.incMusic()):i=s.distance(this.musicdown),i<this.maxDist&&!t?(console.log("music down, dist:"+i),t=!0,this.game.soundManager.decMusic()):i=s.distance(this.sfxup),i<this.maxDist&&!t?(console.log("sfx up, dist:"+i),t=!0,this.game.soundManager.incSFX()):i=s.distance(this.sfxdown),i<this.maxDist&&!t&&(console.log("sfx down, dist: "+i),t=!0,this.game.soundManager.decSFX())}}}draw(){this.ctx.drawImage(this.img,this.x,this.y);this.musicdown.distance(this.musicup);let s=this.musicdown.x+40,t=this.musicdown.y,i=Math.floor(10*this.game.soundManager.MUSICvol);for(let e=0;e<2;e++){this.ctx.fillStyle="#ff3300";for(let e=0;e<10;e++)this.ctx.fillRect(s+30*e,t-30,30,25),e===i&&(this.ctx.fillStyle="#fff8f8");i=Math.floor(10*this.game.soundManager.SFXvol),t=this.sfxdown.y+5}}enter(s){this.previous=s.name}exit(){this.game.sceneManager.isPaused=!1}}